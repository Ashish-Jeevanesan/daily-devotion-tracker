<h2 mat-dialog-title>
  {{ (data.devotion?.created_at || data.checkIn?.date || data.date) | date: 'fullDate' }}
</h2>
<mat-dialog-content class="dialog-content">
  <div class="status-summary">
    @if (data.checkIn) {
      <div class="status-row">
        <span class="status-label">Prayed:</span>
        <span class="status-value" [class.yes]="data.checkIn.prayed" [class.no]="!data.checkIn.prayed">
          {{ data.checkIn.prayed ? 'Yes' : 'No' }}
        </span>
      </div>
      <div class="status-row">
        <span class="status-label">Read Bible:</span>
        <span class="status-value" [class.yes]="data.checkIn.read_bible" [class.no]="!data.checkIn.read_bible">
          {{ data.checkIn.read_bible ? 'Yes' : 'No' }}
        </span>
      </div>
    } @else {
      <div class="status-row missed">
        <span>No check-in record for this day.</span>
      </div>
    }
  </div>

  @if (data.devotion) {
    <div class="notes-section">
      <div class="notes-header">
        <h3>My Notes</h3>
        <button mat-icon-button [cdkCopyToClipboard]="data.devotion.notes" (click)="copyDevotion()" aria-label="Copy devotion notes" matTooltip="Copy to clipboard">
          <mat-icon>content_copy</mat-icon>
        </button>
      </div>
      <div class="notes-content">
        <p>{{ data.devotion.notes }}</p>
      </div>
    </div>
  } @else {
    <div class="no-notes">
      <p>No notes recorded for this day.</p>
    </div>
  }
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button (click)="onClose()">Close</button>
</mat-dialog-actions>
