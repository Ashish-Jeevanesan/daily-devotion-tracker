<mat-sidenav-container class="app-container">

  <!-- ===== Mobile / Side Menu ===== -->
  <mat-sidenav #sidenav mode="over" position="end">
    <mat-nav-list>

      <a mat-list-item routerLink="/profile" (click)="sidenav.close()">
        <mat-icon>account_circle</mat-icon>
        <span>Profile</span>
      </a>

      <a mat-list-item (click)="signOut(); sidenav.close()">
        <mat-icon>logout</mat-icon>
        <span>Sign Out</span>
      </a>

      <mat-divider></mat-divider>

      <mat-list-item>
        <mat-slide-toggle
          [checked]="themeService.isDark()"
          (change)="themeService.toggleTheme()">
          Dark mode
        </mat-slide-toggle>
      </mat-list-item>

    </mat-nav-list>
  </mat-sidenav>

  <!-- ===== Main Content ===== -->
  <mat-sidenav-content>

    <!-- App Bar -->
    <mat-toolbar class="app-toolbar" color="primary">

      <!-- App title -->
      <span class="app-title" routerLink="/">
        {{ title }}
      </span>

      <span class="spacer"></span>

      <!-- Desktop actions -->
      <div class="desktop-only" *ngIf="isLoggedIn()">

        <button
          mat-icon-button
          (click)="themeService.toggleTheme()"
          aria-label="Toggle theme">
          <mat-icon>
            {{ themeService.isDark() ? 'light_mode' : 'dark_mode' }}
          </mat-icon>
        </button>

        <button
          mat-icon-button
          routerLink="/profile"
          aria-label="User Profile">
          <mat-icon>account_circle</mat-icon>
        </button>

        <button mat-button (click)="signOut()">
          Sign out
        </button>

      </div>

      <!-- Mobile menu button -->
      <button
        mat-icon-button
        class="mobile-only"
        (click)="sidenav.toggle()"
        aria-label="Menu">
        <mat-icon>menu</mat-icon>
      </button>

    </mat-toolbar>

    <!-- Page Content -->
    <main class="content">
      <router-outlet></router-outlet>
    </main>

  </mat-sidenav-content>
</mat-sidenav-container>

<app-notification-outlet></app-notification-outlet>
